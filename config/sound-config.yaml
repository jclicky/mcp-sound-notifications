# =============================================================================
# MULTI-AGENT AUDIO NOTIFICATION CONFIGURATION
# =============================================================================
# Version: 2.1.0
# Last Updated: 2026-02-10
#
# This configuration defines audio notifications for multi-agent workflows.
# Sounds are organized into CATEGORIES (not individual events) to prevent
# listener fatigue and maintain semantic clarity.
#
# SOUND SETUP:
#   This config ships with system-sound fallbacks by default. No custom sound
#   files are required. To use custom sounds:
#   1. Place .mp3/.wav files in config/themes/default/
#   2. Reference them by filename (without extension) in the pools below
#   3. See docs/SOUND-SOURCES.md for where to find open-source sound packs
#   4. See config/themes/example-warcraft/ and example-star-trek/ for
#      persona-based theme templates (bring your own sound files)
#
# DOCUMENTATION:
#   - IDE setup: docs/IDE-SETUP.md
#   - Customization: docs/CUSTOMIZATION.md
#   - Sound sources: docs/SOUND-SOURCES.md
#   - Architecture: docs/adrs/
# =============================================================================

version: "2.0.0"
schema_version: 1

# =============================================================================
# GLOBAL SETTINGS
# =============================================================================
settings:
  enabled: true

  # Volume control (0.0 - 1.0)
  volume: 0.7

  # Anti-fatigue: cooldown between sounds (milliseconds)
  sound_cooldown_ms: 2000

  # Anti-fatigue: max sounds per minute before auto-throttle
  max_sounds_per_minute: 6

  # When throttled, fall back to silent OS notifications
  fallback_to_notifications: true

  # Quiet hours - switch to notification-only mode
  quiet_hours:
    enabled: false
    start: "21:00"
    end: "08:00"
    mode: notification_only  # Options: notification_only, silent

  # Easter egg global probability (can be overridden per-category)
  easter_egg_probability: 0.05

  # OS notification settings
  os_notifications:
    enabled: true
    style: banner    # Options: banner, alert, none
    group_by_category: true

# =============================================================================
# SOUND CATEGORIES
# =============================================================================
# Sounds are grouped into semantic categories. Each category has a "pool" of
# sounds that are rotated through to prevent repetition fatigue.
#
# Category properties:
#   - pool: Array of sound filenames (without extension) or system sound names
#   - rotation: "sequential" | "random" | "weighted"
#   - os_notification: true/false - whether to also show OS notification
#   - intensity: low | medium | high (for neighbor-awareness filtering)
#   - enabled: true/false
#
# SYSTEM SOUND FALLBACKS:
#   When a pool references a file that doesn't exist, the server automatically
#   falls back to OS system sounds:
#     macOS: /System/Library/Sounds/ (Glass, Pop, Ping, Basso, Funk, Hero, Frog)
#     Linux: /usr/share/sounds/freedesktop/stereo/
#
# CUSTOM SOUNDS:
#   To use custom sounds instead of system defaults:
#   1. Place your .mp3/.wav files in config/themes/default/
#   2. Reference the filename (without extension) in the pool arrays
#   3. Example: pool: ["my-chime", "my-ding"] â†’ looks for my-chime.mp3
# =============================================================================

categories:

  # ---------------------------------------------------------------------------
  # COMPLETION: "I finished something successfully"
  # ---------------------------------------------------------------------------
  completion:
    description: "Task or operation completed successfully"
    pool:
      # Default: system sounds. Replace with your own sound filenames.
      - completion-1
      - completion-2
    rotation: sequential
    os_notification: true
    intensity: low
    enabled: true

    # Events that trigger this category
    events:
      - task_completed
      - git_push_success
      - git_mr_created
      - build_success
      - tests_passed

  # ---------------------------------------------------------------------------
  # ACKNOWLEDGMENT: "I heard you, starting work now"
  # ---------------------------------------------------------------------------
  acknowledgment:
    description: "Agent acknowledges request and begins work"
    pool:
      - ack-1
      - ack-2
    rotation: random
    os_notification: false
    intensity: low
    enabled: true

    events:
      - task_acknowledged
      - git_commit_success
      - subagent_spawned
      - session_start

  # ---------------------------------------------------------------------------
  # ATTENTION: "I need your input or decision"
  # ---------------------------------------------------------------------------
  attention:
    description: "Agent is blocked and needs user input"
    pool:
      - attention-1
      - attention-2
    rotation: random
    os_notification: true
    intensity: medium
    enabled: true

    events:
      - waiting_for_input
      - permission_requested
      - git_conflicts
      - ready_for_next

  # ---------------------------------------------------------------------------
  # WARNING: "Something went wrong or needs attention"
  # ---------------------------------------------------------------------------
  warning:
    description: "Error, failure, or resource issue"
    pool:
      - warning-1
      - warning-2
    rotation: random
    os_notification: true
    intensity: medium
    enabled: true

    events:
      - task_failed
      - build_failed
      - tests_failed
      - quota_exceeded

  # ---------------------------------------------------------------------------
  # REFUSAL: "I won't do that (safety/security)"
  # ---------------------------------------------------------------------------
  refusal:
    description: "Agent declines unsafe or inappropriate request"
    pool:
      - refusal-1
    rotation: random
    os_notification: true
    intensity: high
    enabled: true
    always_play: true  # Always play refusal sounds (no probability reduction)

    events:
      - unsafe_action_blocked
      - security_warning
      - permission_denied

  # ---------------------------------------------------------------------------
  # EASTER EGG: "Rare humor to delight (not annoy)"
  # ---------------------------------------------------------------------------
  easter_egg:
    description: "Rare humorous responses (use sparingly!)"
    pool:
      - easter-egg-1
    rotation: random
    os_notification: false
    intensity: high
    enabled: true
    probability: 0.05
    cooldown_hours: 2

    events:
      - repeated_invalid_request
      - excessive_rapid_requests

  # ---------------------------------------------------------------------------
  # GREETING: "Session start / hello"
  # ---------------------------------------------------------------------------
  greeting:
    description: "New session or conversation begins"
    pool:
      - greeting-1
      - greeting-2
    rotation: random
    os_notification: false
    intensity: low
    enabled: true

    events:
      - session_start

# =============================================================================
# SOUND LIBRARY METADATA (EXAMPLES)
# =============================================================================
# Detailed information about each sound file. This section is optional but
# useful for documenting your custom sound library.
#
# When you add custom sounds, document them here for reference:
#
#   my-custom-chime:
#     file: my-custom-chime.mp3
#     description: "Bright chime for task completion"
#     duration_ms: 1200
#     intensity: low
#     neighbor_safe: true
#     category: completion
#
# For themed persona sounds (e.g., game characters, movie quotes), see the
# example themes in config/themes/ for the recommended schema.
# =============================================================================

sounds: {}  # Empty by default -- populate with your sound library metadata

# =============================================================================
# CLI EVENT MAPPINGS (Extensible)
# =============================================================================
# Sound mappings for specific CLI commands.
# Requires shell hook integration or MCP server support.
# Status: aspirational = planned | implemented = working
# =============================================================================

cli_events:
  git:
    commit:
      status: implemented
      category: acknowledgment
      description: "Successful git commit"

    push:
      status: implemented
      category: completion
      description: "Successful git push"

    pull:
      status: implemented
      category: greeting
      description: "Successful git pull/fetch"

    merge:
      status: implemented
      category: completion
      description: "Successful merge"

  npm:
    install:
      status: aspirational
      category: completion

    test:
      status: aspirational
      on_success: completion
      on_failure: warning

    build:
      status: aspirational
      on_success: completion
      on_failure: warning

  docker:
    build:
      status: aspirational
      category: completion

    up:
      status: aspirational
      category: greeting

# =============================================================================
# MCP TOOL EVENT MAPPINGS (Extensible)
# =============================================================================
# Sound mappings for MCP tool invocations.
# =============================================================================

mcp_events:
  tool_completed:
    status: aspirational
    category: acknowledgment
    enabled: false  # Too noisy by default

  servers:
    atlassian:
      page_created:
        status: aspirational
        category: completion

      issue_created:
        status: aspirational
        category: acknowledgment

    github:
      pr_created:
        status: aspirational
        category: completion

      pr_merged:
        status: aspirational
        category: completion

    gitlab:
      mr_created:
        status: implemented
        category: completion

# =============================================================================
# CUSTOM USER MAPPINGS
# =============================================================================
# Add your own custom event-to-sound mappings here.
# These take precedence over category defaults.
#
# Example:
#   git_push_success:
#     sound: my-custom-chime
#     os_notification: true
#     message: "Code pushed to remote!"
# =============================================================================

custom_mappings: {}
